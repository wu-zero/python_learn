# chapter20
#### 1. 说明交换机是如何进行mac地址学习的
交换机有一个mac地址学习的功能，这个交换机上有一个mac地址表，记录着一个网口（也有人叫端口，注意和传输层的端口不是一回事）对应一个mac地址，如果交换机里面没有某个端口的mac地址的记录，他就会学习记录这个地址。
计算机通信的时候如果发现交换机的mac地址记录表中有，那么他就不会在进行广播了，也因为交换机具备mac地址学习的功能，随着发包的机器越来越多，所有的机器都参与进来了，以后在进行通信的时候并不需要广播，而是在刚开始通信的时候，必须要广播，这时候交换机会把网口上所有的mac地址全都学到，或者某一网口上计算机换了才会进行广播，这时交换机也会重新学习 更新自己的mac地址表。  

#### 2. 说明ARP协议的工作原理
ARP协议功能：广播的方式发送数据包，获取目标主机的mac地址。  
原理：  
> （5c:f9:38:aa:e6:ce，FF:FF:FF:FF:FF:FF）（192.168.0.106，192.168.0.105）  
(源mac地址, 暂定目标mac) (源ip地址, 目标ip地址)  

在发包的时候会先把目标mac地址按照FF:FF:FF:FF:FF:FF（12个大写的F）来发送，如果刚好一个接受者发现这个ip地址就是自己的ip地址，那么他就会把自己的mac地址返回给发送这个包的机器，这个时候交换机也就学习到了这个mac地址。
